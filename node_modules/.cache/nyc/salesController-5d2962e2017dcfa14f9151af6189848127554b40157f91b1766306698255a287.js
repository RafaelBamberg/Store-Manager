function cov_1eik9eguys(){var path="/home/bamberg/sd-014-c-store-manager/controllers/salesController.js";var hash="b7d5e192cdf18c4977be0473b11d0c639251f673";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/bamberg/sd-014-c-store-manager/controllers/salesController.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:41}},"1":{start:{line:3,column:15},end:{line:3,column:40}},"2":{start:{line:8,column:4},end:{line:8,column:35}},"3":{start:{line:10,column:21},end:{line:10,column:53}},"4":{start:{line:12,column:21},end:{line:12,column:56}},"5":{start:{line:14,column:15},end:{line:20,column:1}},"6":{start:{line:15,column:17},end:{line:15,column:44}},"7":{start:{line:17,column:2},end:{line:19,column:18}},"8":{start:{line:22,column:16},end:{line:29,column:1}},"9":{start:{line:23,column:25},end:{line:23,column:35}},"10":{start:{line:24,column:15},end:{line:24,column:49}},"11":{start:{line:26,column:2},end:{line:28,column:16}},"12":{start:{line:31,column:15},end:{line:41,column:1}},"13":{start:{line:32,column:26},end:{line:32,column:29}},"14":{start:{line:34,column:2},end:{line:34,column:22}},"15":{start:{line:36,column:18},end:{line:36,column:50}},"16":{start:{line:38,column:2},end:{line:40,column:19}},"17":{start:{line:43,column:15},end:{line:59,column:1}},"18":{start:{line:49,column:6},end:{line:49,column:9}},"19":{start:{line:51,column:2},end:{line:51,column:29}},"20":{start:{line:53,column:22},end:{line:54,column:33}},"21":{start:{line:56,column:2},end:{line:58,column:23}},"22":{start:{line:61,column:15},end:{line:69,column:1}},"23":{start:{line:62,column:25},end:{line:62,column:35}},"24":{start:{line:64,column:22},end:{line:64,column:55}},"25":{start:{line:66,column:2},end:{line:68,column:23}},"26":{start:{line:71,column:0},end:{line:71,column:31}},"27":{start:{line:73,column:0},end:{line:73,column:35}},"28":{start:{line:75,column:0},end:{line:75,column:32}},"29":{start:{line:77,column:0},end:{line:77,column:34}},"30":{start:{line:79,column:0},end:{line:79,column:37}},"31":{start:{line:81,column:0},end:{line:88,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:14,column:15},end:{line:14,column:16}},loc:{start:{line:14,column:43},end:{line:20,column:1}},line:14},"1":{name:"(anonymous_1)",decl:{start:{line:22,column:16},end:{line:22,column:17}},loc:{start:{line:22,column:43},end:{line:29,column:1}},line:22},"2":{name:"(anonymous_2)",decl:{start:{line:31,column:15},end:{line:31,column:16}},loc:{start:{line:31,column:42},end:{line:41,column:1}},line:31},"3":{name:"(anonymous_3)",decl:{start:{line:43,column:15},end:{line:43,column:16}},loc:{start:{line:43,column:42},end:{line:59,column:1}},line:43},"4":{name:"(anonymous_4)",decl:{start:{line:61,column:15},end:{line:61,column:16}},loc:{start:{line:61,column:42},end:{line:69,column:1}},line:61}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b7d5e192cdf18c4977be0473b11d0c639251f673"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1eik9eguys=function(){return actualCoverage;};}return actualCoverage;}cov_1eik9eguys();const sales=(cov_1eik9eguys().s[0]++,require('express').Router());const rescue=(cov_1eik9eguys().s[1]++,require('express-rescue'));const{HTTP_OK,HTTP_CREATED}=(cov_1eik9eguys().s[2]++,require('../utils/statusCodes'));const validateSale=(cov_1eik9eguys().s[3]++,require('../schemas/saleSchema'));const salesService=(cov_1eik9eguys().s[4]++,require('../services/salesService'));cov_1eik9eguys().s[5]++;const getAll=async(_req,res,_next)=>{cov_1eik9eguys().f[0]++;const result=(cov_1eik9eguys().s[6]++,await salesService.getAll());cov_1eik9eguys().s[7]++;res.status(HTTP_OK).json(result);};cov_1eik9eguys().s[8]++;const getById=async(req,res,_next)=>{cov_1eik9eguys().f[1]++;const{id:saleId}=(cov_1eik9eguys().s[9]++,req.params);const sale=(cov_1eik9eguys().s[10]++,await salesService.getById(saleId));cov_1eik9eguys().s[11]++;res.status(HTTP_OK).json(sale);};cov_1eik9eguys().s[12]++;const create=async(req,res,_next)=>{cov_1eik9eguys().f[2]++;const{body:items}=(cov_1eik9eguys().s[13]++,req);cov_1eik9eguys().s[14]++;validateSale(items);const newSale=(cov_1eik9eguys().s[15]++,await salesService.create(items));cov_1eik9eguys().s[16]++;res.status(HTTP_CREATED).json(newSale);};cov_1eik9eguys().s[17]++;const update=async(req,res,_next)=>{cov_1eik9eguys().f[3]++;const{body:updatedItems,params:{id:saleId}}=(cov_1eik9eguys().s[18]++,req);cov_1eik9eguys().s[19]++;validateSale(updatedItems);const updatedSale=(cov_1eik9eguys().s[20]++,await salesService.update(saleId,updatedItems));cov_1eik9eguys().s[21]++;res.status(HTTP_OK).json(updatedSale);};cov_1eik9eguys().s[22]++;const remove=async(req,res,_next)=>{cov_1eik9eguys().f[4]++;const{id:saleId}=(cov_1eik9eguys().s[23]++,req.params);const deletedSale=(cov_1eik9eguys().s[24]++,await salesService.remove(saleId));cov_1eik9eguys().s[25]++;res.status(HTTP_OK).json(deletedSale);};cov_1eik9eguys().s[26]++;sales.get('/',rescue(getAll));cov_1eik9eguys().s[27]++;sales.get('/:id',rescue(getById));cov_1eik9eguys().s[28]++;sales.post('/',rescue(create));cov_1eik9eguys().s[29]++;sales.put('/:id',rescue(update));cov_1eik9eguys().s[30]++;sales.delete('/:id',rescue(remove));cov_1eik9eguys().s[31]++;module.exports={sales,getAll,getById,create,update,remove};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNhbGVzQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJzYWxlcyIsInJlcXVpcmUiLCJSb3V0ZXIiLCJyZXNjdWUiLCJIVFRQX09LIiwiSFRUUF9DUkVBVEVEIiwidmFsaWRhdGVTYWxlIiwic2FsZXNTZXJ2aWNlIiwiZ2V0QWxsIiwiX3JlcSIsInJlcyIsIl9uZXh0IiwicmVzdWx0Iiwic3RhdHVzIiwianNvbiIsImdldEJ5SWQiLCJyZXEiLCJpZCIsInNhbGVJZCIsInBhcmFtcyIsInNhbGUiLCJjcmVhdGUiLCJib2R5IiwiaXRlbXMiLCJuZXdTYWxlIiwidXBkYXRlIiwidXBkYXRlZEl0ZW1zIiwidXBkYXRlZFNhbGUiLCJyZW1vdmUiLCJkZWxldGVkU2FsZSIsImdldCIsInBvc3QiLCJwdXQiLCJkZWxldGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiK3pHQWVZOzJGQWZaLEtBQU1BLENBQUFBLEtBQUssMEJBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJDLE1BQW5CLEVBQUgsQ0FBWCxDQUVBLEtBQU1DLENBQUFBLE1BQU0sMEJBQUdGLE9BQU8sQ0FBQyxnQkFBRCxDQUFWLENBQVosQ0FFQSxLQUFNLENBQ0pHLE9BREksQ0FFSkMsWUFGSSwyQkFHRkosT0FBTyxDQUFDLHNCQUFELENBSEwsQ0FBTixDQUtBLEtBQU1LLENBQUFBLFlBQVksMEJBQUdMLE9BQU8sQ0FBQyx1QkFBRCxDQUFWLENBQWxCLENBRUEsS0FBTU0sQ0FBQUEsWUFBWSwwQkFBR04sT0FBTyxDQUFDLDBCQUFELENBQVYsQ0FBbEIsQyx3QkFFQSxLQUFNTyxDQUFBQSxNQUFNLENBQUcsTUFBT0MsSUFBUCxDQUFhQyxHQUFiLENBQWtCQyxLQUFsQixHQUE0Qix5QkFDekMsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBRyxLQUFNTCxDQUFBQSxZQUFZLENBQUNDLE1BQWIsRUFBVCxDQUFaLENBRHlDLHdCQUd6Q0UsR0FBRyxDQUNBRyxNQURILENBQ1VULE9BRFYsRUFFR1UsSUFGSCxDQUVRRixNQUZSLEVBR0QsQ0FORCxDLHdCQVFBLEtBQU1HLENBQUFBLE9BQU8sQ0FBRyxNQUFPQyxHQUFQLENBQVlOLEdBQVosQ0FBaUJDLEtBQWpCLEdBQTJCLHlCQUN6QyxLQUFNLENBQUVNLEVBQUUsQ0FBRUMsTUFBTiwyQkFBaUJGLEdBQUcsQ0FBQ0csTUFBckIsQ0FBTixDQUNBLEtBQU1DLENBQUFBLElBQUksMkJBQUcsS0FBTWIsQ0FBQUEsWUFBWSxDQUFDUSxPQUFiLENBQXFCRyxNQUFyQixDQUFULENBQVYsQ0FGeUMseUJBSXpDUixHQUFHLENBQ0FHLE1BREgsQ0FDVVQsT0FEVixFQUVHVSxJQUZILENBRVFNLElBRlIsRUFHRCxDQVBELEMseUJBU0EsS0FBTUMsQ0FBQUEsTUFBTSxDQUFHLE1BQU9MLEdBQVAsQ0FBWU4sR0FBWixDQUFpQkMsS0FBakIsR0FBMkIseUJBQ3hDLEtBQU0sQ0FBRVcsSUFBSSxDQUFFQyxLQUFSLDRCQUFrQlAsR0FBbEIsQ0FBTixDQUR3Qyx5QkFHeENWLFlBQVksQ0FBQ2lCLEtBQUQsQ0FBWixDQUVBLEtBQU1DLENBQUFBLE9BQU8sMkJBQUcsS0FBTWpCLENBQUFBLFlBQVksQ0FBQ2MsTUFBYixDQUFvQkUsS0FBcEIsQ0FBVCxDQUFiLENBTHdDLHlCQU94Q2IsR0FBRyxDQUNBRyxNQURILENBQ1VSLFlBRFYsRUFFR1MsSUFGSCxDQUVRVSxPQUZSLEVBR0QsQ0FWRCxDLHlCQVlBLEtBQU1DLENBQUFBLE1BQU0sQ0FBRyxNQUFPVCxHQUFQLENBQVlOLEdBQVosQ0FBaUJDLEtBQWpCLEdBQTJCLHlCQUN4QyxLQUFNLENBQ0pXLElBQUksQ0FBRUksWUFERixDQUVKUCxNQUFNLENBQUUsQ0FDTkYsRUFBRSxDQUFFQyxNQURFLENBRkosNEJBS0ZGLEdBTEUsQ0FBTixDQUR3Qyx5QkFReENWLFlBQVksQ0FBQ29CLFlBQUQsQ0FBWixDQUVBLEtBQU1DLENBQUFBLFdBQVcsMkJBQUcsS0FBTXBCLENBQUFBLFlBQVksQ0FDbkNrQixNQUR1QixDQUNoQlAsTUFEZ0IsQ0FDUlEsWUFEUSxDQUFULENBQWpCLENBVndDLHlCQWF4Q2hCLEdBQUcsQ0FDQUcsTUFESCxDQUNVVCxPQURWLEVBRUdVLElBRkgsQ0FFUWEsV0FGUixFQUdELENBaEJELEMseUJBa0JBLEtBQU1DLENBQUFBLE1BQU0sQ0FBRyxNQUFPWixHQUFQLENBQVlOLEdBQVosQ0FBaUJDLEtBQWpCLEdBQTJCLHlCQUN4QyxLQUFNLENBQUVNLEVBQUUsQ0FBRUMsTUFBTiw0QkFBaUJGLEdBQUcsQ0FBQ0csTUFBckIsQ0FBTixDQUVBLEtBQU1VLENBQUFBLFdBQVcsMkJBQUcsS0FBTXRCLENBQUFBLFlBQVksQ0FBQ3FCLE1BQWIsQ0FBb0JWLE1BQXBCLENBQVQsQ0FBakIsQ0FId0MseUJBS3hDUixHQUFHLENBQ0FHLE1BREgsQ0FDVVQsT0FEVixFQUVHVSxJQUZILENBRVFlLFdBRlIsRUFHRCxDQVJELEMseUJBVUE3QixLQUFLLENBQUM4QixHQUFOLENBQVUsR0FBVixDQUFlM0IsTUFBTSxDQUFDSyxNQUFELENBQXJCLEUseUJBRUFSLEtBQUssQ0FBQzhCLEdBQU4sQ0FBVSxNQUFWLENBQWtCM0IsTUFBTSxDQUFDWSxPQUFELENBQXhCLEUseUJBRUFmLEtBQUssQ0FBQytCLElBQU4sQ0FBVyxHQUFYLENBQWdCNUIsTUFBTSxDQUFDa0IsTUFBRCxDQUF0QixFLHlCQUVBckIsS0FBSyxDQUFDZ0MsR0FBTixDQUFVLE1BQVYsQ0FBa0I3QixNQUFNLENBQUNzQixNQUFELENBQXhCLEUseUJBRUF6QixLQUFLLENBQUNpQyxNQUFOLENBQWEsTUFBYixDQUFxQjlCLE1BQU0sQ0FBQ3lCLE1BQUQsQ0FBM0IsRSx5QkFFQU0sTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQ2ZuQyxLQURlLENBRWZRLE1BRmUsQ0FHZk8sT0FIZSxDQUlmTSxNQUplLENBS2ZJLE1BTGUsQ0FNZkcsTUFOZSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNhbGVzID0gcmVxdWlyZSgnZXhwcmVzcycpLlJvdXRlcigpO1xuXG5jb25zdCByZXNjdWUgPSByZXF1aXJlKCdleHByZXNzLXJlc2N1ZScpO1xuXG5jb25zdCB7XG4gIEhUVFBfT0ssXG4gIEhUVFBfQ1JFQVRFRCxcbn0gPSByZXF1aXJlKCcuLi91dGlscy9zdGF0dXNDb2RlcycpO1xuXG5jb25zdCB2YWxpZGF0ZVNhbGUgPSByZXF1aXJlKCcuLi9zY2hlbWFzL3NhbGVTY2hlbWEnKTtcblxuY29uc3Qgc2FsZXNTZXJ2aWNlID0gcmVxdWlyZSgnLi4vc2VydmljZXMvc2FsZXNTZXJ2aWNlJyk7XG5cbmNvbnN0IGdldEFsbCA9IGFzeW5jIChfcmVxLCByZXMsIF9uZXh0KSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNhbGVzU2VydmljZS5nZXRBbGwoKTtcblxuICByZXNcbiAgICAuc3RhdHVzKEhUVFBfT0spXG4gICAgLmpzb24ocmVzdWx0KTtcbn07XG5cbmNvbnN0IGdldEJ5SWQgPSBhc3luYyAocmVxLCByZXMsIF9uZXh0KSA9PiB7XG4gIGNvbnN0IHsgaWQ6IHNhbGVJZCB9ID0gcmVxLnBhcmFtcztcbiAgY29uc3Qgc2FsZSA9IGF3YWl0IHNhbGVzU2VydmljZS5nZXRCeUlkKHNhbGVJZCk7XG5cbiAgcmVzXG4gICAgLnN0YXR1cyhIVFRQX09LKVxuICAgIC5qc29uKHNhbGUpO1xufTtcblxuY29uc3QgY3JlYXRlID0gYXN5bmMgKHJlcSwgcmVzLCBfbmV4dCkgPT4ge1xuICBjb25zdCB7IGJvZHk6IGl0ZW1zIH0gPSByZXE7XG5cbiAgdmFsaWRhdGVTYWxlKGl0ZW1zKTtcblxuICBjb25zdCBuZXdTYWxlID0gYXdhaXQgc2FsZXNTZXJ2aWNlLmNyZWF0ZShpdGVtcyk7XG5cbiAgcmVzXG4gICAgLnN0YXR1cyhIVFRQX0NSRUFURUQpXG4gICAgLmpzb24obmV3U2FsZSk7XG59O1xuXG5jb25zdCB1cGRhdGUgPSBhc3luYyAocmVxLCByZXMsIF9uZXh0KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBib2R5OiB1cGRhdGVkSXRlbXMsXG4gICAgcGFyYW1zOiB7XG4gICAgICBpZDogc2FsZUlkLFxuICAgIH0sXG4gIH0gPSByZXE7XG5cbiAgdmFsaWRhdGVTYWxlKHVwZGF0ZWRJdGVtcyk7XG5cbiAgY29uc3QgdXBkYXRlZFNhbGUgPSBhd2FpdCBzYWxlc1NlcnZpY2VcbiAgICAudXBkYXRlKHNhbGVJZCwgdXBkYXRlZEl0ZW1zKTtcblxuICByZXNcbiAgICAuc3RhdHVzKEhUVFBfT0spXG4gICAgLmpzb24odXBkYXRlZFNhbGUpO1xufTtcblxuY29uc3QgcmVtb3ZlID0gYXN5bmMgKHJlcSwgcmVzLCBfbmV4dCkgPT4ge1xuICBjb25zdCB7IGlkOiBzYWxlSWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgY29uc3QgZGVsZXRlZFNhbGUgPSBhd2FpdCBzYWxlc1NlcnZpY2UucmVtb3ZlKHNhbGVJZCk7XG5cbiAgcmVzXG4gICAgLnN0YXR1cyhIVFRQX09LKVxuICAgIC5qc29uKGRlbGV0ZWRTYWxlKTtcbn07XG5cbnNhbGVzLmdldCgnLycsIHJlc2N1ZShnZXRBbGwpKTtcblxuc2FsZXMuZ2V0KCcvOmlkJywgcmVzY3VlKGdldEJ5SWQpKTtcblxuc2FsZXMucG9zdCgnLycsIHJlc2N1ZShjcmVhdGUpKTtcblxuc2FsZXMucHV0KCcvOmlkJywgcmVzY3VlKHVwZGF0ZSkpO1xuXG5zYWxlcy5kZWxldGUoJy86aWQnLCByZXNjdWUocmVtb3ZlKSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzYWxlcyxcbiAgZ2V0QWxsLFxuICBnZXRCeUlkLFxuICBjcmVhdGUsXG4gIHVwZGF0ZSxcbiAgcmVtb3ZlLFxufTsiXX0=