function cov_1twestxcd1(){var path="/home/bamberg/sd-014-c-store-manager/models/productsModel.js";var hash="d844f455cba8415f532630d90f7efae8b9ff4599";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/bamberg/sd-014-c-store-manager/models/productsModel.js",statementMap:{"0":{start:{line:2,column:19},end:{line:2,column:42}},"1":{start:{line:5,column:22},end:{line:5,column:51}},"2":{start:{line:7,column:15},end:{line:13,column:1}},"3":{start:{line:8,column:21},end:{line:10,column:3}},"4":{start:{line:12,column:2},end:{line:12,column:18}},"5":{start:{line:15,column:16},end:{line:24,column:1}},"6":{start:{line:16,column:20},end:{line:19,column:3}},"7":{start:{line:21,column:2},end:{line:21,column:53}},"8":{start:{line:21,column:27},end:{line:21,column:53}},"9":{start:{line:23,column:2},end:{line:23,column:20}},"10":{start:{line:26,column:18},end:{line:33,column:1}},"11":{start:{line:27,column:20},end:{line:30,column:3}},"12":{start:{line:32,column:2},end:{line:32,column:20}},"13":{start:{line:35,column:15},end:{line:46,column:1}},"14":{start:{line:36,column:23},end:{line:39,column:3}},"15":{start:{line:41,column:2},end:{line:45,column:4}},"16":{start:{line:48,column:0},end:{line:53,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:15},end:{line:7,column:16}},loc:{start:{line:7,column:27},end:{line:13,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:16},end:{line:15,column:17}},loc:{start:{line:15,column:30},end:{line:24,column:1}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:26,column:18},end:{line:26,column:19}},loc:{start:{line:26,column:34},end:{line:33,column:1}},line:26},"3":{name:"(anonymous_3)",decl:{start:{line:35,column:15},end:{line:35,column:16}},loc:{start:{line:35,column:41},end:{line:46,column:1}},line:35}},branchMap:{"0":{loc:{start:{line:21,column:2},end:{line:21,column:53}},type:"if",locations:[{start:{line:21,column:2},end:{line:21,column:53}},{start:{line:21,column:2},end:{line:21,column:53}}],line:21}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d844f455cba8415f532630d90f7efae8b9ff4599"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1twestxcd1=function(){return actualCoverage;};}return actualCoverage;}cov_1twestxcd1();/* -=================== Connection ===================- */const connection=(cov_1twestxcd1().s[0]++,require('./connection'));/* -======================= Errors =======================- */const NotFoundError=(cov_1twestxcd1().s[1]++,require('../errors/notFound'));cov_1twestxcd1().s[2]++;const getAll=async()=>{cov_1twestxcd1().f[0]++;const[products]=(cov_1twestxcd1().s[3]++,await connection.execute('SELECT * FROM StoreManager.products'));cov_1twestxcd1().s[4]++;return products;};cov_1twestxcd1().s[5]++;const getById=async id=>{cov_1twestxcd1().f[1]++;const[product]=(cov_1twestxcd1().s[6]++,await connection.execute('SELECT * FROM StoreManager.products WHERE id = ?',[id]));cov_1twestxcd1().s[7]++;if(product.length<=0){cov_1twestxcd1().b[0][0]++;cov_1twestxcd1().s[8]++;throw new NotFoundError();}else{cov_1twestxcd1().b[0][1]++;}cov_1twestxcd1().s[9]++;return product[0];};cov_1twestxcd1().s[10]++;const getByName=async name=>{cov_1twestxcd1().f[2]++;const[product]=(cov_1twestxcd1().s[11]++,await connection.execute('SELECT * FROM StoreManager.products WHERE name = ?',[name]));cov_1twestxcd1().s[12]++;return product[0];};cov_1twestxcd1().s[13]++;const create=async(name,quantity)=>{cov_1twestxcd1().f[3]++;const[newProduct]=(cov_1twestxcd1().s[14]++,await connection.execute('INSERT INTO StoreManager.products (name, quantity) VALUES (?, ?)',[name,quantity]));cov_1twestxcd1().s[15]++;return{id:newProduct.insertId,name,quantity};};cov_1twestxcd1().s[16]++;module.exports={getAll,getById,getByName,create};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzTW9kZWwuanMiXSwibmFtZXMiOlsiY29ubmVjdGlvbiIsInJlcXVpcmUiLCJOb3RGb3VuZEVycm9yIiwiZ2V0QWxsIiwicHJvZHVjdHMiLCJleGVjdXRlIiwiZ2V0QnlJZCIsImlkIiwicHJvZHVjdCIsImxlbmd0aCIsImdldEJ5TmFtZSIsIm5hbWUiLCJjcmVhdGUiLCJxdWFudGl0eSIsIm5ld1Byb2R1Y3QiLCJpbnNlcnRJZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJtNkVBZVk7MkZBZlosMERBQ0EsS0FBTUEsQ0FBQUEsVUFBVSwwQkFBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBVixDQUFoQixDQUVBLDhEQUNBLEtBQU1DLENBQUFBLGFBQWEsMEJBQUdELE9BQU8sQ0FBQyxvQkFBRCxDQUFWLENBQW5CLEMsd0JBRUEsS0FBTUUsQ0FBQUEsTUFBTSxDQUFHLFNBQVkseUJBQ3pCLEtBQU0sQ0FBQ0MsUUFBRCwyQkFBYSxLQUFNSixDQUFBQSxVQUFVLENBQUNLLE9BQVgsQ0FDdkIscUNBRHVCLENBQW5CLENBQU4sQ0FEeUIsd0JBS3pCLE1BQU9ELENBQUFBLFFBQVAsQ0FDRCxDQU5ELEMsd0JBUUEsS0FBTUUsQ0FBQUEsT0FBTyxDQUFHLEtBQU9DLENBQUFBLEVBQVAsRUFBYyx5QkFDNUIsS0FBTSxDQUFDQyxPQUFELDJCQUFZLEtBQU1SLENBQUFBLFVBQVUsQ0FBQ0ssT0FBWCxDQUN0QixrREFEc0IsQ0FFdEIsQ0FBQ0UsRUFBRCxDQUZzQixDQUFsQixDQUFOLENBRDRCLHdCQU01QixHQUFJQyxPQUFPLENBQUNDLE1BQVIsRUFBa0IsQ0FBdEIsQ0FBeUIseURBQU0sSUFBSVAsQ0FBQUEsYUFBSixFQUFOLENBQTBCLENBQW5ELGlDQU40Qix3QkFRNUIsTUFBT00sQ0FBQUEsT0FBTyxDQUFDLENBQUQsQ0FBZCxDQUNELENBVEQsQyx5QkFXQSxLQUFNRSxDQUFBQSxTQUFTLENBQUcsS0FBT0MsQ0FBQUEsSUFBUCxFQUFnQix5QkFDaEMsS0FBTSxDQUFDSCxPQUFELDRCQUFZLEtBQU1SLENBQUFBLFVBQVUsQ0FBQ0ssT0FBWCxDQUN0QixvREFEc0IsQ0FFdEIsQ0FBQ00sSUFBRCxDQUZzQixDQUFsQixDQUFOLENBRGdDLHlCQU1oQyxNQUFPSCxDQUFBQSxPQUFPLENBQUMsQ0FBRCxDQUFkLENBQ0QsQ0FQRCxDLHlCQVNBLEtBQU1JLENBQUFBLE1BQU0sQ0FBRyxNQUFPRCxJQUFQLENBQWFFLFFBQWIsR0FBMEIseUJBQ3ZDLEtBQU0sQ0FBQ0MsVUFBRCw0QkFBZSxLQUFNZCxDQUFBQSxVQUFVLENBQUNLLE9BQVgsQ0FDekIsa0VBRHlCLENBRXpCLENBQUNNLElBQUQsQ0FBT0UsUUFBUCxDQUZ5QixDQUFyQixDQUFOLENBRHVDLHlCQU12QyxNQUFPLENBQ0xOLEVBQUUsQ0FBRU8sVUFBVSxDQUFDQyxRQURWLENBRUxKLElBRkssQ0FHTEUsUUFISyxDQUFQLENBS0QsQ0FYRCxDLHlCQWFBRyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FDZmQsTUFEZSxDQUVmRyxPQUZlLENBR2ZJLFNBSGUsQ0FJZkUsTUFKZSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIC09PT09PT09PT09PT09PT09PT09IENvbm5lY3Rpb24gPT09PT09PT09PT09PT09PT09PS0gKi9cbmNvbnN0IGNvbm5lY3Rpb24gPSByZXF1aXJlKCcuL2Nvbm5lY3Rpb24nKTtcblxuLyogLT09PT09PT09PT09PT09PT09PT09PT09IEVycm9ycyA9PT09PT09PT09PT09PT09PT09PT09PS0gKi9cbmNvbnN0IE5vdEZvdW5kRXJyb3IgPSByZXF1aXJlKCcuLi9lcnJvcnMvbm90Rm91bmQnKTtcblxuY29uc3QgZ2V0QWxsID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBbcHJvZHVjdHNdID0gYXdhaXQgY29ubmVjdGlvbi5leGVjdXRlKFxuICAgICdTRUxFQ1QgKiBGUk9NIFN0b3JlTWFuYWdlci5wcm9kdWN0cycsXG4gICk7XG5cbiAgcmV0dXJuIHByb2R1Y3RzO1xufTtcblxuY29uc3QgZ2V0QnlJZCA9IGFzeW5jIChpZCkgPT4ge1xuICBjb25zdCBbcHJvZHVjdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgJ1NFTEVDVCAqIEZST00gU3RvcmVNYW5hZ2VyLnByb2R1Y3RzIFdIRVJFIGlkID0gPycsXG4gICAgW2lkXSxcbiAgKTtcblxuICBpZiAocHJvZHVjdC5sZW5ndGggPD0gMCkgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoKTtcblxuICByZXR1cm4gcHJvZHVjdFswXTtcbn07XG5cbmNvbnN0IGdldEJ5TmFtZSA9IGFzeW5jIChuYW1lKSA9PiB7XG4gIGNvbnN0IFtwcm9kdWN0XSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAnU0VMRUNUICogRlJPTSBTdG9yZU1hbmFnZXIucHJvZHVjdHMgV0hFUkUgbmFtZSA9ID8nLFxuICAgIFtuYW1lXSxcbiAgKTtcblxuICByZXR1cm4gcHJvZHVjdFswXTtcbn07XG5cbmNvbnN0IGNyZWF0ZSA9IGFzeW5jIChuYW1lLCBxdWFudGl0eSkgPT4ge1xuICBjb25zdCBbbmV3UHJvZHVjdF0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgJ0lOU0VSVCBJTlRPIFN0b3JlTWFuYWdlci5wcm9kdWN0cyAobmFtZSwgcXVhbnRpdHkpIFZBTFVFUyAoPywgPyknLFxuICAgIFtuYW1lLCBxdWFudGl0eV0sXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogbmV3UHJvZHVjdC5pbnNlcnRJZCxcbiAgICBuYW1lLFxuICAgIHF1YW50aXR5LFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldEFsbCxcbiAgZ2V0QnlJZCxcbiAgZ2V0QnlOYW1lLFxuICBjcmVhdGUsXG59OyJdfQ==