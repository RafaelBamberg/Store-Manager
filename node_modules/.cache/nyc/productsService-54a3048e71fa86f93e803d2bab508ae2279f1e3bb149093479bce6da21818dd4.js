function cov_ds3vy1x9p(){var path="/home/bamberg/sd-014-c-store-manager/services/productsService.js";var hash="55847c1bb13ceabf2573d0e96f795a1a15070bc5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/bamberg/sd-014-c-store-manager/services/productsService.js",statementMap:{"0":{start:{line:1,column:22},end:{line:1,column:56}},"1":{start:{line:3,column:22},end:{line:3,column:51}},"2":{start:{line:4,column:22},end:{line:4,column:51}},"3":{start:{line:6,column:17},end:{line:6,column:45}},"4":{start:{line:8,column:15},end:{line:11,column:1}},"5":{start:{line:9,column:19},end:{line:9,column:47}},"6":{start:{line:10,column:2},end:{line:10,column:18}},"7":{start:{line:13,column:16},end:{line:18,column:1}},"8":{start:{line:14,column:18},end:{line:14,column:49}},"9":{start:{line:15,column:2},end:{line:15,column:67}},"10":{start:{line:15,column:16},end:{line:15,column:67}},"11":{start:{line:17,column:2},end:{line:17,column:17}},"12":{start:{line:20,column:15},end:{line:26,column:1}},"13":{start:{line:21,column:17},end:{line:21,column:52}},"14":{start:{line:22,column:2},end:{line:22,column:67}},"15":{start:{line:22,column:14},end:{line:22,column:67}},"16":{start:{line:24,column:21},end:{line:24,column:63}},"17":{start:{line:25,column:2},end:{line:25,column:20}},"18":{start:{line:28,column:15},end:{line:39,column:1}},"19":{start:{line:29,column:18},end:{line:29,column:49}},"20":{start:{line:30,column:2},end:{line:30,column:67}},"21":{start:{line:30,column:16},end:{line:30,column:67}},"22":{start:{line:32,column:25},end:{line:36,column:3}},"23":{start:{line:38,column:2},end:{line:38,column:24}},"24":{start:{line:41,column:15},end:{line:48,column:1}},"25":{start:{line:42,column:18},end:{line:42,column:49}},"26":{start:{line:43,column:2},end:{line:43,column:67}},"27":{start:{line:43,column:16},end:{line:43,column:67}},"28":{start:{line:45,column:2},end:{line:45,column:33}},"29":{start:{line:47,column:2},end:{line:47,column:17}},"30":{start:{line:50,column:0},end:{line:56,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:15},end:{line:8,column:16}},loc:{start:{line:8,column:27},end:{line:11,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:16},end:{line:13,column:17}},loc:{start:{line:13,column:30},end:{line:18,column:1}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:20,column:15},end:{line:20,column:16}},loc:{start:{line:20,column:41},end:{line:26,column:1}},line:20},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:15},end:{line:28,column:16}},loc:{start:{line:28,column:45},end:{line:39,column:1}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:41,column:15},end:{line:41,column:16}},loc:{start:{line:41,column:29},end:{line:48,column:1}},line:41}},branchMap:{"0":{loc:{start:{line:15,column:2},end:{line:15,column:67}},type:"if",locations:[{start:{line:15,column:2},end:{line:15,column:67}},{start:{line:15,column:2},end:{line:15,column:67}}],line:15},"1":{loc:{start:{line:22,column:2},end:{line:22,column:67}},type:"if",locations:[{start:{line:22,column:2},end:{line:22,column:67}},{start:{line:22,column:2},end:{line:22,column:67}}],line:22},"2":{loc:{start:{line:30,column:2},end:{line:30,column:67}},type:"if",locations:[{start:{line:30,column:2},end:{line:30,column:67}},{start:{line:30,column:2},end:{line:30,column:67}}],line:30},"3":{loc:{start:{line:43,column:2},end:{line:43,column:67}},type:"if",locations:[{start:{line:43,column:2},end:{line:43,column:67}},{start:{line:43,column:2},end:{line:43,column:67}}],line:43}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"55847c1bb13ceabf2573d0e96f795a1a15070bc5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ds3vy1x9p=function(){return actualCoverage;};}return actualCoverage;}cov_ds3vy1x9p();const productsModel=(cov_ds3vy1x9p().s[0]++,require('../models/productsModel'));const ConflictError=(cov_ds3vy1x9p().s[1]++,require('../errors/conflict'));const NotFoundError=(cov_ds3vy1x9p().s[2]++,require('../errors/notFound'));const messages=(cov_ds3vy1x9p().s[3]++,require('../utils/messages'));cov_ds3vy1x9p().s[4]++;const getAll=async()=>{cov_ds3vy1x9p().f[0]++;const products=(cov_ds3vy1x9p().s[5]++,await productsModel.getAll());cov_ds3vy1x9p().s[6]++;return products;};cov_ds3vy1x9p().s[7]++;const getById=async id=>{cov_ds3vy1x9p().f[1]++;const product=(cov_ds3vy1x9p().s[8]++,await productsModel.getById(id));cov_ds3vy1x9p().s[9]++;if(!product){cov_ds3vy1x9p().b[0][0]++;cov_ds3vy1x9p().s[10]++;throw new NotFoundError(messages.product.notFound);}else{cov_ds3vy1x9p().b[0][1]++;}cov_ds3vy1x9p().s[11]++;return product;};cov_ds3vy1x9p().s[12]++;const create=async(name,quantity)=>{cov_ds3vy1x9p().f[2]++;const exists=(cov_ds3vy1x9p().s[13]++,await productsModel.getByName(name));cov_ds3vy1x9p().s[14]++;if(exists){cov_ds3vy1x9p().b[1][0]++;cov_ds3vy1x9p().s[15]++;throw new ConflictError(messages.product.duplicated);}else{cov_ds3vy1x9p().b[1][1]++;}const newProduct=(cov_ds3vy1x9p().s[16]++,await productsModel.create(name,quantity));cov_ds3vy1x9p().s[17]++;return newProduct;};cov_ds3vy1x9p().s[18]++;const update=async(id,name,quantity)=>{cov_ds3vy1x9p().f[3]++;const product=(cov_ds3vy1x9p().s[19]++,await productsModel.getById(id));cov_ds3vy1x9p().s[20]++;if(!product){cov_ds3vy1x9p().b[2][0]++;cov_ds3vy1x9p().s[21]++;throw new NotFoundError(messages.product.notFound);}else{cov_ds3vy1x9p().b[2][1]++;}const updatedProduct=(cov_ds3vy1x9p().s[22]++,await productsModel.update(id,name,quantity));cov_ds3vy1x9p().s[23]++;return updatedProduct;};cov_ds3vy1x9p().s[24]++;const remove=async id=>{cov_ds3vy1x9p().f[4]++;const product=(cov_ds3vy1x9p().s[25]++,await productsModel.getById(id));cov_ds3vy1x9p().s[26]++;if(!product){cov_ds3vy1x9p().b[3][0]++;cov_ds3vy1x9p().s[27]++;throw new NotFoundError(messages.product.notFound);}else{cov_ds3vy1x9p().b[3][1]++;}cov_ds3vy1x9p().s[28]++;await productsModel.remove(id);cov_ds3vy1x9p().s[29]++;return product;};cov_ds3vy1x9p().s[30]++;module.exports={getAll,getById,create,update,remove};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzU2VydmljZS5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0c01vZGVsIiwicmVxdWlyZSIsIkNvbmZsaWN0RXJyb3IiLCJOb3RGb3VuZEVycm9yIiwibWVzc2FnZXMiLCJnZXRBbGwiLCJwcm9kdWN0cyIsImdldEJ5SWQiLCJpZCIsInByb2R1Y3QiLCJub3RGb3VuZCIsImNyZWF0ZSIsIm5hbWUiLCJxdWFudGl0eSIsImV4aXN0cyIsImdldEJ5TmFtZSIsImR1cGxpY2F0ZWQiLCJuZXdQcm9kdWN0IiwidXBkYXRlIiwidXBkYXRlZFByb2R1Y3QiLCJyZW1vdmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiNmhJQWVZO3lGQWZaLEtBQU1BLENBQUFBLGFBQWEseUJBQUdDLE9BQU8sQ0FBQyx5QkFBRCxDQUFWLENBQW5CLENBRUEsS0FBTUMsQ0FBQUEsYUFBYSx5QkFBR0QsT0FBTyxDQUFDLG9CQUFELENBQVYsQ0FBbkIsQ0FDQSxLQUFNRSxDQUFBQSxhQUFhLHlCQUFHRixPQUFPLENBQUMsb0JBQUQsQ0FBVixDQUFuQixDQUVBLEtBQU1HLENBQUFBLFFBQVEseUJBQUdILE9BQU8sQ0FBQyxtQkFBRCxDQUFWLENBQWQsQyx1QkFFQSxLQUFNSSxDQUFBQSxNQUFNLENBQUcsU0FBWSx3QkFDekIsS0FBTUMsQ0FBQUEsUUFBUSx5QkFBRyxLQUFNTixDQUFBQSxhQUFhLENBQUNLLE1BQWQsRUFBVCxDQUFkLENBRHlCLHVCQUV6QixNQUFPQyxDQUFBQSxRQUFQLENBQ0QsQ0FIRCxDLHVCQUtBLEtBQU1DLENBQUFBLE9BQU8sQ0FBRyxLQUFPQyxDQUFBQSxFQUFQLEVBQWMsd0JBQzVCLEtBQU1DLENBQUFBLE9BQU8seUJBQUcsS0FBTVQsQ0FBQUEsYUFBYSxDQUFDTyxPQUFkLENBQXNCQyxFQUF0QixDQUFULENBQWIsQ0FENEIsdUJBRTVCLEdBQUksQ0FBQ0MsT0FBTCxDQUFjLHdEQUFNLElBQUlOLENBQUFBLGFBQUosQ0FBa0JDLFFBQVEsQ0FBQ0ssT0FBVCxDQUFpQkMsUUFBbkMsQ0FBTixDQUFtRCxDQUFqRSxnQ0FGNEIsd0JBSTVCLE1BQU9ELENBQUFBLE9BQVAsQ0FDRCxDQUxELEMsd0JBT0EsS0FBTUUsQ0FBQUEsTUFBTSxDQUFHLE1BQU9DLElBQVAsQ0FBYUMsUUFBYixHQUEwQix3QkFDdkMsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBRyxLQUFNZCxDQUFBQSxhQUFhLENBQUNlLFNBQWQsQ0FBd0JILElBQXhCLENBQVQsQ0FBWixDQUR1Qyx3QkFFdkMsR0FBSUUsTUFBSixDQUFZLHdEQUFNLElBQUlaLENBQUFBLGFBQUosQ0FBa0JFLFFBQVEsQ0FBQ0ssT0FBVCxDQUFpQk8sVUFBbkMsQ0FBTixDQUFxRCxDQUFqRSxnQ0FFQSxLQUFNQyxDQUFBQSxVQUFVLDBCQUFHLEtBQU1qQixDQUFBQSxhQUFhLENBQUNXLE1BQWQsQ0FBcUJDLElBQXJCLENBQTJCQyxRQUEzQixDQUFULENBQWhCLENBSnVDLHdCQUt2QyxNQUFPSSxDQUFBQSxVQUFQLENBQ0QsQ0FORCxDLHdCQVFBLEtBQU1DLENBQUFBLE1BQU0sQ0FBRyxNQUFPVixFQUFQLENBQVdJLElBQVgsQ0FBaUJDLFFBQWpCLEdBQThCLHdCQUMzQyxLQUFNSixDQUFBQSxPQUFPLDBCQUFHLEtBQU1ULENBQUFBLGFBQWEsQ0FBQ08sT0FBZCxDQUFzQkMsRUFBdEIsQ0FBVCxDQUFiLENBRDJDLHdCQUUzQyxHQUFJLENBQUNDLE9BQUwsQ0FBYyx3REFBTSxJQUFJTixDQUFBQSxhQUFKLENBQWtCQyxRQUFRLENBQUNLLE9BQVQsQ0FBaUJDLFFBQW5DLENBQU4sQ0FBbUQsQ0FBakUsZ0NBRUEsS0FBTVMsQ0FBQUEsY0FBYywwQkFBRyxLQUFNbkIsQ0FBQUEsYUFBYSxDQUFDa0IsTUFBZCxDQUMzQlYsRUFEMkIsQ0FFM0JJLElBRjJCLENBRzNCQyxRQUgyQixDQUFULENBQXBCLENBSjJDLHdCQVUzQyxNQUFPTSxDQUFBQSxjQUFQLENBQ0QsQ0FYRCxDLHdCQWFBLEtBQU1DLENBQUFBLE1BQU0sQ0FBRyxLQUFPWixDQUFBQSxFQUFQLEVBQWMsd0JBQzNCLEtBQU1DLENBQUFBLE9BQU8sMEJBQUcsS0FBTVQsQ0FBQUEsYUFBYSxDQUFDTyxPQUFkLENBQXNCQyxFQUF0QixDQUFULENBQWIsQ0FEMkIsd0JBRTNCLEdBQUksQ0FBQ0MsT0FBTCxDQUFjLHdEQUFNLElBQUlOLENBQUFBLGFBQUosQ0FBa0JDLFFBQVEsQ0FBQ0ssT0FBVCxDQUFpQkMsUUFBbkMsQ0FBTixDQUFtRCxDQUFqRSxnQ0FGMkIsd0JBSTNCLEtBQU1WLENBQUFBLGFBQWEsQ0FBQ29CLE1BQWQsQ0FBcUJaLEVBQXJCLENBQU4sQ0FKMkIsd0JBTTNCLE1BQU9DLENBQUFBLE9BQVAsQ0FDRCxDQVBELEMsd0JBU0FZLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNmakIsTUFEZSxDQUVmRSxPQUZlLENBR2ZJLE1BSGUsQ0FJZk8sTUFKZSxDQUtmRSxNQUxlLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcHJvZHVjdHNNb2RlbCA9IHJlcXVpcmUoJy4uL21vZGVscy9wcm9kdWN0c01vZGVsJyk7XG5cbmNvbnN0IENvbmZsaWN0RXJyb3IgPSByZXF1aXJlKCcuLi9lcnJvcnMvY29uZmxpY3QnKTtcbmNvbnN0IE5vdEZvdW5kRXJyb3IgPSByZXF1aXJlKCcuLi9lcnJvcnMvbm90Rm91bmQnKTtcblxuY29uc3QgbWVzc2FnZXMgPSByZXF1aXJlKCcuLi91dGlscy9tZXNzYWdlcycpO1xuXG5jb25zdCBnZXRBbGwgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgcHJvZHVjdHNNb2RlbC5nZXRBbGwoKTtcbiAgcmV0dXJuIHByb2R1Y3RzO1xufTtcblxuY29uc3QgZ2V0QnlJZCA9IGFzeW5jIChpZCkgPT4ge1xuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdHNNb2RlbC5nZXRCeUlkKGlkKTtcbiAgaWYgKCFwcm9kdWN0KSB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcihtZXNzYWdlcy5wcm9kdWN0Lm5vdEZvdW5kKTtcblxuICByZXR1cm4gcHJvZHVjdDtcbn07XG5cbmNvbnN0IGNyZWF0ZSA9IGFzeW5jIChuYW1lLCBxdWFudGl0eSkgPT4ge1xuICBjb25zdCBleGlzdHMgPSBhd2FpdCBwcm9kdWN0c01vZGVsLmdldEJ5TmFtZShuYW1lKTtcbiAgaWYgKGV4aXN0cykgdGhyb3cgbmV3IENvbmZsaWN0RXJyb3IobWVzc2FnZXMucHJvZHVjdC5kdXBsaWNhdGVkKTtcblxuICBjb25zdCBuZXdQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdHNNb2RlbC5jcmVhdGUobmFtZSwgcXVhbnRpdHkpO1xuICByZXR1cm4gbmV3UHJvZHVjdDtcbn07XG5cbmNvbnN0IHVwZGF0ZSA9IGFzeW5jIChpZCwgbmFtZSwgcXVhbnRpdHkpID0+IHtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RzTW9kZWwuZ2V0QnlJZChpZCk7XG4gIGlmICghcHJvZHVjdCkgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IobWVzc2FnZXMucHJvZHVjdC5ub3RGb3VuZCk7XG5cbiAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0c01vZGVsLnVwZGF0ZShcbiAgICBpZCxcbiAgICBuYW1lLFxuICAgIHF1YW50aXR5LFxuICApO1xuXG4gIHJldHVybiB1cGRhdGVkUHJvZHVjdDtcbn07XG5cbmNvbnN0IHJlbW92ZSA9IGFzeW5jIChpZCkgPT4ge1xuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdHNNb2RlbC5nZXRCeUlkKGlkKTtcbiAgaWYgKCFwcm9kdWN0KSB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcihtZXNzYWdlcy5wcm9kdWN0Lm5vdEZvdW5kKTtcblxuICBhd2FpdCBwcm9kdWN0c01vZGVsLnJlbW92ZShpZCk7XG5cbiAgcmV0dXJuIHByb2R1Y3Q7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0QWxsLFxuICBnZXRCeUlkLFxuICBjcmVhdGUsXG4gIHVwZGF0ZSxcbiAgcmVtb3ZlLFxufTsiXX0=