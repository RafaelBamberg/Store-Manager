function cov_5f9kb8678(){var path="/home/bamberg/sd-014-c-store-manager/models/salesModel.js";var hash="2ecb64bb2dc6e462c3363031549b07eae3b3b5f7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/bamberg/sd-014-c-store-manager/models/salesModel.js",statementMap:{"0":{start:{line:1,column:19},end:{line:1,column:42}},"1":{start:{line:3,column:19},end:{line:3,column:39}},"2":{start:{line:4,column:20},end:{line:4,column:49}},"3":{start:{line:6,column:15},end:{line:19,column:1}},"4":{start:{line:7,column:18},end:{line:11,column:3}},"5":{start:{line:13,column:22},end:{line:16,column:5}},"6":{start:{line:13,column:67},end:{line:16,column:3}},"7":{start:{line:18,column:2},end:{line:18,column:21}},"8":{start:{line:21,column:16},end:{line:31,column:3}},"9":{start:{line:22,column:19},end:{line:28,column:5}},"10":{start:{line:30,column:4},end:{line:30,column:16}},"11":{start:{line:33,column:15},end:{line:39,column:1}},"12":{start:{line:34,column:20},end:{line:36,column:3}},"13":{start:{line:38,column:2},end:{line:38,column:26}},"14":{start:{line:41,column:13},end:{line:46,column:1}},"15":{start:{line:42,column:2},end:{line:45,column:4}},"16":{start:{line:48,column:15},end:{line:54,column:3}},"17":{start:{line:49,column:4},end:{line:53,column:6}},"18":{start:{line:56,column:17},end:{line:61,column:3}},"19":{start:{line:57,column:4},end:{line:60,column:6}},"20":{start:{line:63,column:0},end:{line:70,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:15},end:{line:6,column:16}},loc:{start:{line:6,column:27},end:{line:19,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:32},end:{line:13,column:33}},loc:{start:{line:13,column:67},end:{line:16,column:3}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:16},end:{line:21,column:17}},loc:{start:{line:21,column:34},end:{line:31,column:3}},line:21},"3":{name:"(anonymous_3)",decl:{start:{line:33,column:15},end:{line:33,column:16}},loc:{start:{line:33,column:27},end:{line:39,column:1}},line:33},"4":{name:"(anonymous_4)",decl:{start:{line:41,column:13},end:{line:41,column:14}},loc:{start:{line:41,column:52},end:{line:46,column:1}},line:41},"5":{name:"(anonymous_5)",decl:{start:{line:48,column:15},end:{line:48,column:16}},loc:{start:{line:48,column:57},end:{line:54,column:3}},line:48},"6":{name:"(anonymous_6)",decl:{start:{line:56,column:17},end:{line:56,column:18}},loc:{start:{line:56,column:35},end:{line:61,column:3}},line:56}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2ecb64bb2dc6e462c3363031549b07eae3b3b5f7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_5f9kb8678=function(){return actualCoverage;};}return actualCoverage;}cov_5f9kb8678();const connection=(cov_5f9kb8678().s[0]++,require('./connection'));const salesTable=(cov_5f9kb8678().s[1]++,'StoreManager.sales');const joinedTable=(cov_5f9kb8678().s[2]++,'StoreManager.sales_products');cov_5f9kb8678().s[3]++;const getAll=async()=>{cov_5f9kb8678().f[0]++;const[sales]=(cov_5f9kb8678().s[4]++,await connection.execute(`SELECT sale_id, date, product_id, quantity FROM ${salesTable}
    JOIN ${joinedTable}
    ON (${salesTable}.id = ${joinedTable}.sale_id)`));const salesPretty=(cov_5f9kb8678().s[5]++,sales.map(({sale_id:saleId,...rest})=>{cov_5f9kb8678().f[1]++;cov_5f9kb8678().s[6]++;return{saleId,...rest};}));cov_5f9kb8678().s[7]++;return salesPretty;};cov_5f9kb8678().s[8]++;const getById=async saleId=>{cov_5f9kb8678().f[2]++;const[sale]=(cov_5f9kb8678().s[9]++,await connection.execute(`SELECT date, product_id, quantity FROM StoreManager.sales
      JOIN StoreManager.sales_products
      ON (StoreManager.sales.id = StoreManager.sales_products.sale_id)
      WHERE sale_id = ?`,[saleId]));cov_5f9kb8678().s[10]++;return sale;};cov_5f9kb8678().s[11]++;const create=async()=>{cov_5f9kb8678().f[3]++;const[newSale]=(cov_5f9kb8678().s[12]++,await connection.execute(`INSERT INTO ${salesTable} (date) VALUES (NOW())`));cov_5f9kb8678().s[13]++;return newSale.insertId;};cov_5f9kb8678().s[14]++;const sell=async(saleId,productId,quantity)=>{cov_5f9kb8678().f[4]++;cov_5f9kb8678().s[15]++;await connection.execute(`INSERT INTO ${joinedTable} (sale_id, product_id, quantity) VALUES (?, ?, ?)`,[saleId,productId,quantity]);};cov_5f9kb8678().s[16]++;const update=async(saleId,productId,newQuantity)=>{cov_5f9kb8678().f[5]++;cov_5f9kb8678().s[17]++;await connection.execute(`UPDATE ${joinedTable} SET quantity = ?
      WHERE (sale_id = ? AND product_id = ?)`,[newQuantity,saleId,productId]);};cov_5f9kb8678().s[18]++;const remove=async saleId=>{cov_5f9kb8678().f[6]++;cov_5f9kb8678().s[19]++;await connection.execute(`DELETE FROM ${salesTable} WHERE id = ?`,[saleId]);};cov_5f9kb8678().s[20]++;module.exports={getAll,getById,create,sell,update,remove};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNhbGVzTW9kZWwuanMiXSwibmFtZXMiOlsiY29ubmVjdGlvbiIsInJlcXVpcmUiLCJzYWxlc1RhYmxlIiwiam9pbmVkVGFibGUiLCJnZXRBbGwiLCJzYWxlcyIsImV4ZWN1dGUiLCJzYWxlc1ByZXR0eSIsIm1hcCIsInNhbGVfaWQiLCJzYWxlSWQiLCJyZXN0IiwiZ2V0QnlJZCIsInNhbGUiLCJjcmVhdGUiLCJuZXdTYWxlIiwiaW5zZXJ0SWQiLCJzZWxsIiwicHJvZHVjdElkIiwicXVhbnRpdHkiLCJ1cGRhdGUiLCJuZXdRdWFudGl0eSIsInJlbW92ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJzNUZBZVk7eUZBZlosS0FBTUEsQ0FBQUEsVUFBVSx5QkFBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBVixDQUFoQixDQUVBLEtBQU1DLENBQUFBLFVBQVUseUJBQUcsb0JBQUgsQ0FBaEIsQ0FDQSxLQUFNQyxDQUFBQSxXQUFXLHlCQUFHLDZCQUFILENBQWpCLEMsdUJBRUEsS0FBTUMsQ0FBQUEsTUFBTSxDQUFHLFNBQVksd0JBQ3pCLEtBQU0sQ0FBQ0MsS0FBRCwwQkFBVSxLQUFNTCxDQUFBQSxVQUFVLENBQUNNLE9BQVgsQ0FDbkIsbURBQWtESixVQUFXO0FBQ2xFLFdBQVdDLFdBQVk7QUFDdkIsVUFBVUQsVUFBVyxTQUFRQyxXQUFZLFdBSGpCLENBQWhCLENBQU4sQ0FNQSxLQUFNSSxDQUFBQSxXQUFXLHlCQUFHRixLQUFLLENBQUNHLEdBQU4sQ0FBVSxDQUFDLENBQUVDLE9BQU8sQ0FBRUMsTUFBWCxDQUFtQixHQUFHQyxJQUF0QixDQUFELEdBQW1DLHNEQUMvREQsTUFEK0QsQ0FFL0QsR0FBR0MsSUFGNEQsRUFHaEUsQ0FIbUIsQ0FBSCxDQUFqQixDQVB5Qix1QkFZekIsTUFBT0osQ0FBQUEsV0FBUCxDQUNELENBYkQsQyx1QkFlQSxLQUFNSyxDQUFBQSxPQUFPLENBQUcsS0FBT0YsQ0FBQUEsTUFBUCxFQUFrQix3QkFDOUIsS0FBTSxDQUFDRyxJQUFELDBCQUFTLEtBQU1iLENBQUFBLFVBQVUsQ0FBQ00sT0FBWCxDQUNsQjtBQUNQO0FBQ0E7QUFDQSx3QkFKeUIsQ0FLbkIsQ0FBQ0ksTUFBRCxDQUxtQixDQUFmLENBQU4sQ0FEOEIsd0JBUzlCLE1BQU9HLENBQUFBLElBQVAsQ0FDRCxDQVZILEMsd0JBWUEsS0FBTUMsQ0FBQUEsTUFBTSxDQUFHLFNBQVksd0JBQ3pCLEtBQU0sQ0FBQ0MsT0FBRCwyQkFBWSxLQUFNZixDQUFBQSxVQUFVLENBQUNNLE9BQVgsQ0FDckIsZUFBY0osVUFBVyx3QkFESixDQUFsQixDQUFOLENBRHlCLHdCQUt6QixNQUFPYSxDQUFBQSxPQUFPLENBQUNDLFFBQWYsQ0FDRCxDQU5ELEMsd0JBUUEsS0FBTUMsQ0FBQUEsSUFBSSxDQUFHLE1BQU9QLE1BQVAsQ0FBZVEsU0FBZixDQUEwQkMsUUFBMUIsR0FBdUMsZ0RBQ2xELEtBQU1uQixDQUFBQSxVQUFVLENBQUNNLE9BQVgsQ0FDSCxlQUFjSCxXQUFZLG1EQUR2QixDQUVKLENBQUNPLE1BQUQsQ0FBU1EsU0FBVCxDQUFvQkMsUUFBcEIsQ0FGSSxDQUFOLENBSUQsQ0FMRCxDLHdCQU9BLEtBQU1DLENBQUFBLE1BQU0sQ0FBRyxNQUFPVixNQUFQLENBQWVRLFNBQWYsQ0FBMEJHLFdBQTFCLEdBQTBDLGdEQUNyRCxLQUFNckIsQ0FBQUEsVUFBVSxDQUFDTSxPQUFYLENBQ0gsVUFBU0gsV0FBWTtBQUM1Qiw2Q0FGVSxDQUdKLENBQUNrQixXQUFELENBQWNYLE1BQWQsQ0FBc0JRLFNBQXRCLENBSEksQ0FBTixDQUtELENBTkgsQyx3QkFRRSxLQUFNSSxDQUFBQSxNQUFNLENBQUcsS0FBT1osQ0FBQUEsTUFBUCxFQUFrQixnREFDL0IsS0FBTVYsQ0FBQUEsVUFBVSxDQUFDTSxPQUFYLENBQ0gsZUFBY0osVUFBVyxlQUR0QixDQUVKLENBQUNRLE1BQUQsQ0FGSSxDQUFOLENBSUQsQ0FMRCxDLHdCQU9GYSxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FDZnBCLE1BRGUsQ0FFZlEsT0FGZSxDQUdmRSxNQUhlLENBSWZHLElBSmUsQ0FLZkcsTUFMZSxDQU1mRSxNQU5lLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29ubmVjdGlvbiA9IHJlcXVpcmUoJy4vY29ubmVjdGlvbicpO1xuXG5jb25zdCBzYWxlc1RhYmxlID0gJ1N0b3JlTWFuYWdlci5zYWxlcyc7XG5jb25zdCBqb2luZWRUYWJsZSA9ICdTdG9yZU1hbmFnZXIuc2FsZXNfcHJvZHVjdHMnO1xuXG5jb25zdCBnZXRBbGwgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IFtzYWxlc10gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgYFNFTEVDVCBzYWxlX2lkLCBkYXRlLCBwcm9kdWN0X2lkLCBxdWFudGl0eSBGUk9NICR7c2FsZXNUYWJsZX1cbiAgICBKT0lOICR7am9pbmVkVGFibGV9XG4gICAgT04gKCR7c2FsZXNUYWJsZX0uaWQgPSAke2pvaW5lZFRhYmxlfS5zYWxlX2lkKWAsXG4gICk7XG5cbiAgY29uc3Qgc2FsZXNQcmV0dHkgPSBzYWxlcy5tYXAoKHsgc2FsZV9pZDogc2FsZUlkLCAuLi5yZXN0IH0pID0+ICh7XG4gICAgc2FsZUlkLFxuICAgIC4uLnJlc3QsXG4gIH0pKTtcblxuICByZXR1cm4gc2FsZXNQcmV0dHk7XG59O1xuXG5jb25zdCBnZXRCeUlkID0gYXN5bmMgKHNhbGVJZCkgPT4ge1xuICAgIGNvbnN0IFtzYWxlXSA9IGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgIGBTRUxFQ1QgZGF0ZSwgcHJvZHVjdF9pZCwgcXVhbnRpdHkgRlJPTSBTdG9yZU1hbmFnZXIuc2FsZXNcbiAgICAgIEpPSU4gU3RvcmVNYW5hZ2VyLnNhbGVzX3Byb2R1Y3RzXG4gICAgICBPTiAoU3RvcmVNYW5hZ2VyLnNhbGVzLmlkID0gU3RvcmVNYW5hZ2VyLnNhbGVzX3Byb2R1Y3RzLnNhbGVfaWQpXG4gICAgICBXSEVSRSBzYWxlX2lkID0gP2AsXG4gICAgICBbc2FsZUlkXSxcbiAgICApO1xuICBcbiAgICByZXR1cm4gc2FsZTtcbiAgfTtcblxuY29uc3QgY3JlYXRlID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBbbmV3U2FsZV0gPSBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgYElOU0VSVCBJTlRPICR7c2FsZXNUYWJsZX0gKGRhdGUpIFZBTFVFUyAoTk9XKCkpYCxcbiAgKTtcblxuICByZXR1cm4gbmV3U2FsZS5pbnNlcnRJZDtcbn07XG5cbmNvbnN0IHNlbGwgPSBhc3luYyAoc2FsZUlkLCBwcm9kdWN0SWQsIHF1YW50aXR5KSA9PiB7XG4gIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICBgSU5TRVJUIElOVE8gJHtqb2luZWRUYWJsZX0gKHNhbGVfaWQsIHByb2R1Y3RfaWQsIHF1YW50aXR5KSBWQUxVRVMgKD8sID8sID8pYCxcbiAgICBbc2FsZUlkLCBwcm9kdWN0SWQsIHF1YW50aXR5XSxcbiAgKTtcbn07XG5cbmNvbnN0IHVwZGF0ZSA9IGFzeW5jIChzYWxlSWQsIHByb2R1Y3RJZCwgbmV3UXVhbnRpdHkpID0+IHtcbiAgICBhd2FpdCBjb25uZWN0aW9uLmV4ZWN1dGUoXG4gICAgICBgVVBEQVRFICR7am9pbmVkVGFibGV9IFNFVCBxdWFudGl0eSA9ID9cbiAgICAgIFdIRVJFIChzYWxlX2lkID0gPyBBTkQgcHJvZHVjdF9pZCA9ID8pYCxcbiAgICAgIFtuZXdRdWFudGl0eSwgc2FsZUlkLCBwcm9kdWN0SWRdLFxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlID0gYXN5bmMgKHNhbGVJZCkgPT4ge1xuICAgIGF3YWl0IGNvbm5lY3Rpb24uZXhlY3V0ZShcbiAgICAgIGBERUxFVEUgRlJPTSAke3NhbGVzVGFibGV9IFdIRVJFIGlkID0gP2AsXG4gICAgICBbc2FsZUlkXSxcbiAgICApO1xuICB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0QWxsLFxuICBnZXRCeUlkLFxuICBjcmVhdGUsXG4gIHNlbGwsXG4gIHVwZGF0ZSxcbiAgcmVtb3ZlLFxufTtcbiJdfQ==